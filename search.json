[{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 sparseprepr authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Daniel Molitor. Author, maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Molitor D (2021). sparseprepr: Pre Processing Sparse Matrices. R package version 0.0.0.9003.","code":"@Manual{,   title = {sparseprepr: Pre Processing for Sparse Matrices},   author = {Daniel Molitor},   year = {2021},   note = {R package version 0.0.0.9003}, }"},{"path":"/index.html","id":"sparseprepr","dir":"","previous_headings":"","what":"Pre Processing for Sparse Matrices","title":"Pre Processing for Sparse Matrices","text":"goal sparseprepr enable common pre-processing actions sparse matrices provide memory-efficient workflow modeling scale.","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Pre Processing for Sparse Matrices","text":"Install Github :","code":"# install.packages(devtools) devtools::install_github(\"dmolitor/sparseprepr\")"},{"path":"/index.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Pre Processing for Sparse Matrices","text":"sparseprepr functionality supports sparse matrices coded sorted compressed column-oriented form, formally class CsparseMatrix. Although Matrix package also defines sorted compressed row-oriented form (RsparseMatrix) triplet form (TsparseMatrix) sparse matrices, makes clear “operations sparse matrices performed using compressed, column-oriented CsparseMatrix representation,” even matrices created TsparseMatrix RsparseMatrix forms convenience, “created, however, matrix generally coerced CsparseMatrix operations.”","code":""},{"path":"/index.html","id":"core-functionality","dir":"","previous_headings":"","what":"Core Functionality","title":"Pre Processing for Sparse Matrices","text":"following toy example shows number pre-processing features sparseprepr provides. matrix shown number contrived features; column cor_with_x3 highly correlated column x3, const_col const_col2 zero-variance columns, dup_x2 identical x2, sparse_col highly sparse column. Common pre-processing steps provided sparseprepr include: Dropping highly correlated columns Dropping empty columns Dropping constant columns Dropping duplicated columns Dropping highly sparse columns Transforming matrix columns:","code":"library(sparseprepr) #>  #> Attaching package: 'sparseprepr' #> The following object is masked from 'package:stats': #>  #>     cor  x #> 10 x 8 sparse Matrix of class \"dgCMatrix\" #>          x1     x2     x3 cor_with_x3 const_col const_col2 dup_x2 sparse_col #>  [1,]  0.42  .      0.110        0.11         1          .  .              . #>  [2,] -0.65 -0.360  0.530        0.53         1          . -0.360          . #>  [3,]  1.70 -0.540 -0.380       -0.38         1          . -0.540          . #>  [4,]  0.89  0.085 -0.650       -0.65         1          .  0.085          . #>  [5,] -0.95 -0.350 -0.480       -0.48         1          . -0.350          . #>  [6,] -1.40 -0.680  0.190        0.19         1          . -0.680          . #>  [7,]  1.20  0.510 -2.900       -2.90         1          .  0.510          . #>  [8,] -0.89 -0.160  .            .            1          . -0.160          . #>  [9,]  .     0.750  0.150        0.15         1          .  0.750          . #> [10,]  0.99  1.100 -0.709       -0.71         1          .  1.100          1 remove_correlated(x, threshold = 0.99) #> Warning: Column(s) 5, 6 have a standard deviation of 0 #> 10 x 6 sparse Matrix of class \"dgCMatrix\" #>          x1     x2     x3 const_col const_col2 sparse_col #>  [1,]  0.42  .      0.110         1          .          . #>  [2,] -0.65 -0.360  0.530         1          .          . #>  [3,]  1.70 -0.540 -0.380         1          .          . #>  [4,]  0.89  0.085 -0.650         1          .          . #>  [5,] -0.95 -0.350 -0.480         1          .          . #>  [6,] -1.40 -0.680  0.190         1          .          . #>  [7,]  1.20  0.510 -2.900         1          .          . #>  [8,] -0.89 -0.160  .             1          .          . #>  [9,]  .     0.750  0.150         1          .          . #> [10,]  0.99  1.100 -0.709         1          .          1 remove_empty(x) #> 10 x 7 sparse Matrix of class \"dgCMatrix\" #>          x1     x2     x3 cor_with_x3 const_col dup_x2 sparse_col #>  [1,]  0.42  .      0.110        0.11         1  .              . #>  [2,] -0.65 -0.360  0.530        0.53         1 -0.360          . #>  [3,]  1.70 -0.540 -0.380       -0.38         1 -0.540          . #>  [4,]  0.89  0.085 -0.650       -0.65         1  0.085          . #>  [5,] -0.95 -0.350 -0.480       -0.48         1 -0.350          . #>  [6,] -1.40 -0.680  0.190        0.19         1 -0.680          . #>  [7,]  1.20  0.510 -2.900       -2.90         1  0.510          . #>  [8,] -0.89 -0.160  .            .            1 -0.160          . #>  [9,]  .     0.750  0.150        0.15         1  0.750          . #> [10,]  0.99  1.100 -0.709       -0.71         1  1.100          1 remove_constant(x) #> 10 x 6 sparse Matrix of class \"dgCMatrix\" #>          x1     x2     x3 cor_with_x3 dup_x2 sparse_col #>  [1,]  0.42  .      0.110        0.11  .              . #>  [2,] -0.65 -0.360  0.530        0.53 -0.360          . #>  [3,]  1.70 -0.540 -0.380       -0.38 -0.540          . #>  [4,]  0.89  0.085 -0.650       -0.65  0.085          . #>  [5,] -0.95 -0.350 -0.480       -0.48 -0.350          . #>  [6,] -1.40 -0.680  0.190        0.19 -0.680          . #>  [7,]  1.20  0.510 -2.900       -2.90  0.510          . #>  [8,] -0.89 -0.160  .            .    -0.160          . #>  [9,]  .     0.750  0.150        0.15  0.750          . #> [10,]  0.99  1.100 -0.709       -0.71  1.100          1 remove_duplicate(x) #> 10 x 7 sparse Matrix of class \"dgCMatrix\" #>          x1     x2     x3 cor_with_x3 const_col const_col2 sparse_col #>  [1,]  0.42  .      0.110        0.11         1          .          . #>  [2,] -0.65 -0.360  0.530        0.53         1          .          . #>  [3,]  1.70 -0.540 -0.380       -0.38         1          .          . #>  [4,]  0.89  0.085 -0.650       -0.65         1          .          . #>  [5,] -0.95 -0.350 -0.480       -0.48         1          .          . #>  [6,] -1.40 -0.680  0.190        0.19         1          .          . #>  [7,]  1.20  0.510 -2.900       -2.90         1          .          . #>  [8,] -0.89 -0.160  .            .            1          .          . #>  [9,]  .     0.750  0.150        0.15         1          .          . #> [10,]  0.99  1.100 -0.709       -0.71         1          .          1 remove_sparse(x, threshold = 0.9) #> 10 x 6 sparse Matrix of class \"dgCMatrix\" #>          x1     x2     x3 cor_with_x3 const_col dup_x2 #>  [1,]  0.42  .      0.110        0.11         1  .     #>  [2,] -0.65 -0.360  0.530        0.53         1 -0.360 #>  [3,]  1.70 -0.540 -0.380       -0.38         1 -0.540 #>  [4,]  0.89  0.085 -0.650       -0.65         1  0.085 #>  [5,] -0.95 -0.350 -0.480       -0.48         1 -0.350 #>  [6,] -1.40 -0.680  0.190        0.19         1 -0.680 #>  [7,]  1.20  0.510 -2.900       -2.90         1  0.510 #>  [8,] -0.89 -0.160  .            .            1 -0.160 #>  [9,]  .     0.750  0.150        0.15         1  0.750 #> [10,]  0.99  1.100 -0.709       -0.71         1  1.100 # Append squared terms transform_cols(   x[, 1:3],    fun = function(i) i^2,    which = paste0(\"x\", 2:3),    name.sep = \"squared\" ) #> 10 x 5 sparse Matrix of class \"dgCMatrix\" #>          x1     x2     x3 x2_squared x3_squared #>  [1,]  0.42  .      0.110   .          0.012100 #>  [2,] -0.65 -0.360  0.530   0.129600   0.280900 #>  [3,]  1.70 -0.540 -0.380   0.291600   0.144400 #>  [4,]  0.89  0.085 -0.650   0.007225   0.422500 #>  [5,] -0.95 -0.350 -0.480   0.122500   0.230400 #>  [6,] -1.40 -0.680  0.190   0.462400   0.036100 #>  [7,]  1.20  0.510 -2.900   0.260100   8.410000 #>  [8,] -0.89 -0.160  .       0.025600   .        #>  [9,]  .     0.750  0.150   0.562500   0.022500 #> [10,]  0.99  1.100 -0.709   1.210000   0.502681  # Append cubed terms transform_cols(   x[, 1:3],    fun = function(i) i^3,    which = paste0(\"x\", 2:3),    name.sep = \"cubed\" ) #> 10 x 5 sparse Matrix of class \"dgCMatrix\" #>          x1     x2     x3     x2_cubed    x3_cubed #>  [1,]  0.42  .      0.110  .             0.0013310 #>  [2,] -0.65 -0.360  0.530 -0.046656000   0.1488770 #>  [3,]  1.70 -0.540 -0.380 -0.157464000  -0.0548720 #>  [4,]  0.89  0.085 -0.650  0.000614125  -0.2746250 #>  [5,] -0.95 -0.350 -0.480 -0.042875000  -0.1105920 #>  [6,] -1.40 -0.680  0.190 -0.314432000   0.0068590 #>  [7,]  1.20  0.510 -2.900  0.132651000 -24.3890000 #>  [8,] -0.89 -0.160  .     -0.004096000   .         #>  [9,]  .     0.750  0.150  0.421875000   0.0033750 #> [10,]  0.99  1.100 -0.709  1.331000000  -0.3564008"},{"path":"/index.html","id":"pipe-workflow","dir":"","previous_headings":"","what":"Pipe Workflow","title":"Pre Processing for Sparse Matrices","text":"pre-processing steps can utilized user-friendly manner via magrittr pipe (%>%) base pipe (|> - R 4.1 greater).","code":"x |>   remove_constant() |>   remove_correlated(threshold = 0.99) |>   remove_duplicate() |>   remove_sparse(threshold = 0.9) |>   transform_cols(     fun = function(i) i ^ 2,     which = paste0(\"x\", 2:3),     name.sep = \"squared\"   ) |>   transform_cols(     fun = function(i) i ^ 3,     which = paste0(\"x\", 2:3),     name.sep = \"cubed\"   ) #> 10 x 7 sparse Matrix of class \"dgCMatrix\" #>          x1     x2     x3 x2_squared x3_squared     x2_cubed    x3_cubed #>  [1,]  0.42  .      0.110   .          0.012100  .             0.0013310 #>  [2,] -0.65 -0.360  0.530   0.129600   0.280900 -0.046656000   0.1488770 #>  [3,]  1.70 -0.540 -0.380   0.291600   0.144400 -0.157464000  -0.0548720 #>  [4,]  0.89  0.085 -0.650   0.007225   0.422500  0.000614125  -0.2746250 #>  [5,] -0.95 -0.350 -0.480   0.122500   0.230400 -0.042875000  -0.1105920 #>  [6,] -1.40 -0.680  0.190   0.462400   0.036100 -0.314432000   0.0068590 #>  [7,]  1.20  0.510 -2.900   0.260100   8.410000  0.132651000 -24.3890000 #>  [8,] -0.89 -0.160  .       0.025600   .        -0.004096000   .         #>  [9,]  .     0.750  0.150   0.562500   0.022500  0.421875000   0.0033750 #> [10,]  0.99  1.100 -0.709   1.210000   0.502681  1.331000000  -0.3564008"},{"path":"/reference/cor.html","id":null,"dir":"Reference","previous_headings":"","what":"Correlation (Sparse and Dense Matrices) — cor","title":"Correlation (Sparse and Dense Matrices) — cor","text":"cor computes sample correlation column pair sparse dense matrices.","code":""},{"path":"/reference/cor.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Correlation (Sparse and Dense Matrices) — cor","text":"","code":"cor(x, ...)  # S3 method for default cor(x, ...)  # S3 method for CsparseMatrix cor(x, ...)"},{"path":"/reference/cor.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Correlation (Sparse and Dense Matrices) — cor","text":"x matrix CsparseMatrix. ... Additional arguments pass methods.","code":""},{"path":"/reference/cor.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Correlation (Sparse and Dense Matrices) — cor","text":"pxp matrix p number matrix columns, (, j) th element corresponds sample correlation p_iand p_j.","code":""},{"path":"/reference/cor.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Correlation (Sparse and Dense Matrices) — cor","text":"cor() S3 generic methods : CsparseMatrix object supported stats::cor","code":""},{"path":"/reference/cor.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Correlation (Sparse and Dense Matrices) — cor","text":"","code":"x <- Matrix::rsparsematrix(10, 3, .5) xdense <- as.matrix(x)  cor(x) #>            [,1]      [,2]       [,3] #> [1,] 1.00000000 0.1551860 0.08671008 #> [2,] 0.15518604 1.0000000 0.45080688 #> [3,] 0.08671008 0.4508069 1.00000000 cor(xdense) #>            [,1]      [,2]       [,3] #> [1,] 1.00000000 0.1551860 0.08671008 #> [2,] 0.15518604 1.0000000 0.45080688 #> [3,] 0.08671008 0.4508069 1.00000000"},{"path":"/reference/remove_constant.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove constant columns — remove_constant","title":"Remove constant columns — remove_constant","text":"remove_constant() removes zero-variance columns sparse dense matrices.","code":""},{"path":"/reference/remove_constant.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove constant columns — remove_constant","text":"","code":"remove_constant(x)  # S3 method for CsparseMatrix remove_constant(x)  # S3 method for matrix remove_constant(x)"},{"path":"/reference/remove_constant.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove constant columns — remove_constant","text":"x matrix CsparseMatrix.","code":""},{"path":"/reference/remove_constant.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove constant columns — remove_constant","text":"x zero-variance columns removed.","code":""},{"path":"/reference/remove_constant.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Remove constant columns — remove_constant","text":"remove_constant() S3 generic methods : CsparseMatrix matrix","code":""},{"path":"/reference/remove_constant.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remove constant columns — remove_constant","text":"","code":"# Create a sparse matrix with constant columns x <- Matrix::rsparsematrix(10, 3, 0.1) colnames(x) <- paste0(\"x\", 1:3) x <- cbind(x, \"x4\" = 1, \"x5\" = 54) # Print x x #> 10 x 5 sparse Matrix of class \"dgCMatrix\" #>       x1    x2 x3 x4 x5 #>  [1,]  .  .     .  1 54 #>  [2,]  .  .     .  1 54 #>  [3,]  .  .     .  1 54 #>  [4,]  .  .     .  1 54 #>  [5,]  .  .     .  1 54 #>  [6,]  . -0.32  .  1 54 #>  [7,]  . -0.28  .  1 54 #>  [8,]  .  .     .  1 54 #>  [9,]  .  .     .  1 54 #> [10,]  . -0.63  .  1 54  # Same matrix in dense format xdense <- as.matrix(x)  # Drop constant columns remove_constant(x) #> 10 x 1 sparse Matrix of class \"dgCMatrix\" #>          x2 #>  [1,]  .    #>  [2,]  .    #>  [3,]  .    #>  [4,]  .    #>  [5,]  .    #>  [6,] -0.32 #>  [7,] -0.28 #>  [8,]  .    #>  [9,]  .    #> [10,] -0.63 remove_constant(xdense) #>          x2 #>  [1,]  0.00 #>  [2,]  0.00 #>  [3,]  0.00 #>  [4,]  0.00 #>  [5,]  0.00 #>  [6,] -0.32 #>  [7,] -0.28 #>  [8,]  0.00 #>  [9,]  0.00 #> [10,] -0.63"},{"path":"/reference/remove_correlated.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove highly correlated columns — remove_correlated","title":"Remove highly correlated columns — remove_correlated","text":"remove_correlated removes one column-pairs sparse dense matrices sample correlation value greater user-defined threshold.","code":""},{"path":"/reference/remove_correlated.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove highly correlated columns — remove_correlated","text":"","code":"remove_correlated(x, threshold)  # S3 method for CsparseMatrix remove_correlated(x, threshold = 0.99)  # S3 method for matrix remove_correlated(x, threshold = 0.99)"},{"path":"/reference/remove_correlated.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove highly correlated columns — remove_correlated","text":"x matrix CsparseMatrix. threshold double 0 1 specifying absolute correlation threshold value remove columns.","code":""},{"path":"/reference/remove_correlated.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove highly correlated columns — remove_correlated","text":"x one highly correlated column-pairs removed.","code":""},{"path":"/reference/remove_correlated.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Remove highly correlated columns — remove_correlated","text":"remove_correlated() S3 generic methods : CsparseMatrix matrix","code":""},{"path":"/reference/remove_correlated.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remove highly correlated columns — remove_correlated","text":"","code":"# Create a sparse matrix with very sparse columns x <- Matrix::rsparsematrix(10, 5, 0.5) x <- cbind(x, x[, 4:5], x[, 4:5]) # Create two perfectly correlated columns colnames(x) <- paste0(\"x\", 1:9) # Print x x #> 10 x 9 sparse Matrix of class \"dgCMatrix\" #>          x1    x2    x3    x4     x5    x6     x7    x8     x9 #>  [1,]  0.10  .     .     .     .      .     .      .     .     #>  [2,] -0.32 -0.26  .     .     .      .     .      .     .     #>  [3,]  .     .     2.40  .    -0.720  .    -0.720  .    -0.720 #>  [4,]  1.30  .    -0.80  0.69 -0.043  0.69 -0.043  0.69 -0.043 #>  [5,]  0.57  .     0.63  0.65  .      0.65  .      0.65  .     #>  [6,] -0.25  .     .    -0.12  .     -0.12  .     -0.12  .     #>  [7,]  .     .     .    -1.00  .     -1.00  .     -1.00  .     #>  [8,]  0.14 -0.73  2.50  .     .      .     .      .     .     #>  [9,]  1.20  .    -0.37  .     2.200  .     2.200  .     2.200 #> [10,]  1.20  .    -1.20  0.48 -0.690  0.48 -0.690  0.48 -0.690  # Same matrix in dense format xdense <- as.matrix(x)  # Drop highly correlated columns remove_correlated(x, threshold = 0.99) #> 10 x 5 sparse Matrix of class \"dgCMatrix\" #>          x1    x2    x3    x4     x5 #>  [1,]  0.10  .     .     .     .     #>  [2,] -0.32 -0.26  .     .     .     #>  [3,]  .     .     2.40  .    -0.720 #>  [4,]  1.30  .    -0.80  0.69 -0.043 #>  [5,]  0.57  .     0.63  0.65  .     #>  [6,] -0.25  .     .    -0.12  .     #>  [7,]  .     .     .    -1.00  .     #>  [8,]  0.14 -0.73  2.50  .     .     #>  [9,]  1.20  .    -0.37  .     2.200 #> [10,]  1.20  .    -1.20  0.48 -0.690 remove_correlated(xdense, threshold = 0.99) #>          x1    x2    x3    x4     x5 #>  [1,]  0.10  0.00  0.00  0.00  0.000 #>  [2,] -0.32 -0.26  0.00  0.00  0.000 #>  [3,]  0.00  0.00  2.40  0.00 -0.720 #>  [4,]  1.30  0.00 -0.80  0.69 -0.043 #>  [5,]  0.57  0.00  0.63  0.65  0.000 #>  [6,] -0.25  0.00  0.00 -0.12  0.000 #>  [7,]  0.00  0.00  0.00 -1.00  0.000 #>  [8,]  0.14 -0.73  2.50  0.00  0.000 #>  [9,]  1.20  0.00 -0.37  0.00  2.200 #> [10,]  1.20  0.00 -1.20  0.48 -0.690"},{"path":"/reference/remove_duplicate.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove duplicate columns — remove_duplicate","title":"Remove duplicate columns — remove_duplicate","text":"remove_duplicate() removes duplicate columns sparse dense matrices.","code":""},{"path":"/reference/remove_duplicate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove duplicate columns — remove_duplicate","text":"","code":"remove_duplicate(x)  # S3 method for CsparseMatrix remove_duplicate(x)  # S3 method for matrix remove_duplicate(x)"},{"path":"/reference/remove_duplicate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove duplicate columns — remove_duplicate","text":"x matrix CsparseMatrix.","code":""},{"path":"/reference/remove_duplicate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove duplicate columns — remove_duplicate","text":"x duplicate columns removed.","code":""},{"path":"/reference/remove_duplicate.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Remove duplicate columns — remove_duplicate","text":"remove_duplicate() S3 generic methods : CsparseMatrix matrix","code":""},{"path":"/reference/remove_duplicate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remove duplicate columns — remove_duplicate","text":"","code":"# Create a sparse matrix with duplicated columns x <- Matrix::rsparsematrix(10, 4, 0.1) colnames(x) <- paste0(\"x\", 1:4) x <- cbind(x, x[, c(1, 4)]) # Print x x #> 10 x 6 sparse Matrix of class \"dgCMatrix\" #>          x1   x2 x3    x4    x1    x4 #>  [1,]  .    .     .  .     .     .    #>  [2,]  .    .     .  .     .     .    #>  [3,]  .    0.44  .  .     .     .    #>  [4,] -0.79 .     .  .    -0.79  .    #>  [5,]  .    .     .  .     .     .    #>  [6,] -0.57 .     .  .    -0.57  .    #>  [7,]  .    .     .  .     .     .    #>  [8,]  .    .     .  .     .     .    #>  [9,]  .    .     .  .     .     .    #> [10,]  .    .     . -0.37  .    -0.37  # Same matrix in dense format xdense <- as.matrix(x)  # Drop duplicate columns remove_duplicate(x) #> 10 x 4 sparse Matrix of class \"dgCMatrix\" #>          x1   x2 x3    x4 #>  [1,]  .    .     .  .    #>  [2,]  .    .     .  .    #>  [3,]  .    0.44  .  .    #>  [4,] -0.79 .     .  .    #>  [5,]  .    .     .  .    #>  [6,] -0.57 .     .  .    #>  [7,]  .    .     .  .    #>  [8,]  .    .     .  .    #>  [9,]  .    .     .  .    #> [10,]  .    .     . -0.37 remove_duplicate(xdense) #>          x1   x2 x3    x4 #>  [1,]  0.00 0.00  0  0.00 #>  [2,]  0.00 0.00  0  0.00 #>  [3,]  0.00 0.44  0  0.00 #>  [4,] -0.79 0.00  0  0.00 #>  [5,]  0.00 0.00  0  0.00 #>  [6,] -0.57 0.00  0  0.00 #>  [7,]  0.00 0.00  0  0.00 #>  [8,]  0.00 0.00  0  0.00 #>  [9,]  0.00 0.00  0  0.00 #> [10,]  0.00 0.00  0 -0.37"},{"path":"/reference/remove_empty.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove empty (all-zero) columns — remove_empty","title":"Remove empty (all-zero) columns — remove_empty","text":"remove_empty() removes -zero columns sparse dense matrices.","code":""},{"path":"/reference/remove_empty.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove empty (all-zero) columns — remove_empty","text":"","code":"remove_empty(x)  # S3 method for CsparseMatrix remove_empty(x)  # S3 method for matrix remove_empty(x)"},{"path":"/reference/remove_empty.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove empty (all-zero) columns — remove_empty","text":"x matrix CsparseMatrix.","code":""},{"path":"/reference/remove_empty.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove empty (all-zero) columns — remove_empty","text":"x -zero columns removed.","code":""},{"path":"/reference/remove_empty.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Remove empty (all-zero) columns — remove_empty","text":"remove_empty() S3 generic methods : CsparseMatrix matrix","code":""},{"path":"/reference/remove_empty.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remove empty (all-zero) columns — remove_empty","text":"","code":"# Create a sparse matrix with constant columns x <- Matrix::rsparsematrix(10, 3, 0.1) x <- cbind(x, 0) colnames(x) <- paste0(\"x\", 1:4) # Print x x #> 10 x 4 sparse Matrix of class \"dgCMatrix\" #>         x1    x2   x3 x4 #>  [1,]  .    .     .    . #>  [2,]  .    .     .    . #>  [3,] -2.5  .     .    . #>  [4,]  .    .     .    . #>  [5,]  .    .     .    . #>  [6,]  .    .     .    . #>  [7,]  .    .     .    . #>  [8,]  .    .     .    . #>  [9,]  .   -0.19 -1.6  . #> [10,]  .    .     .    .  # Same matrix in dense format xdense <- as.matrix(x)  # Drop empty columns remove_empty(x) #> 10 x 3 sparse Matrix of class \"dgCMatrix\" #>         x1    x2   x3 #>  [1,]  .    .     .   #>  [2,]  .    .     .   #>  [3,] -2.5  .     .   #>  [4,]  .    .     .   #>  [5,]  .    .     .   #>  [6,]  .    .     .   #>  [7,]  .    .     .   #>  [8,]  .    .     .   #>  [9,]  .   -0.19 -1.6 #> [10,]  .    .     .   remove_empty(xdense) #>         x1    x2   x3 #>  [1,]  0.0  0.00  0.0 #>  [2,]  0.0  0.00  0.0 #>  [3,] -2.5  0.00  0.0 #>  [4,]  0.0  0.00  0.0 #>  [5,]  0.0  0.00  0.0 #>  [6,]  0.0  0.00  0.0 #>  [7,]  0.0  0.00  0.0 #>  [8,]  0.0  0.00  0.0 #>  [9,]  0.0 -0.19 -1.6 #> [10,]  0.0  0.00  0.0"},{"path":"/reference/remove_sparse.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove extremely sparse columns — remove_sparse","title":"Remove extremely sparse columns — remove_sparse","text":"remove_sparse() removes columns sparse dense matrices sparsity value greater user-defined threshold.","code":""},{"path":"/reference/remove_sparse.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove extremely sparse columns — remove_sparse","text":"","code":"remove_sparse(x, threshold)  # S3 method for CsparseMatrix remove_sparse(x, threshold)  # S3 method for matrix remove_sparse(x, threshold)"},{"path":"/reference/remove_sparse.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove extremely sparse columns — remove_sparse","text":"x matrix CsparseMatrix. threshold double 0 1 specifying sparsity threshold remove columns.","code":""},{"path":"/reference/remove_sparse.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove extremely sparse columns — remove_sparse","text":"x sparse columns removed.","code":""},{"path":"/reference/remove_sparse.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Remove extremely sparse columns — remove_sparse","text":"remove_sparse() S3 generic methods : CsparseMatrix matrix","code":""},{"path":"/reference/remove_sparse.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remove extremely sparse columns — remove_sparse","text":"","code":"# Create a sparse matrix with very sparse columns x <- Matrix::rsparsematrix(10, 5, 0.1) colnames(x) <- paste0(\"x\", 1:5) # Print x x #> 10 x 5 sparse Matrix of class \"dgCMatrix\" #>       x1    x2 x3 x4     x5 #>  [1,]  .  .     .  . .      #>  [2,]  .  .     .  . .      #>  [3,]  . -0.40  .  . .      #>  [4,]  .  .     .  . .      #>  [5,]  .  .     .  . 0.5300 #>  [6,]  .  .     .  . .      #>  [7,]  .  .     .  . .      #>  [8,]  .  .     .  . .      #>  [9,]  .  .     .  . 0.4300 #> [10,]  .  0.33  .  . 0.0017  # Same matrix in dense format xdense <- as.matrix(x)  # Drop duplicate columns remove_sparse(x, threshold = 0.9) #> 10 x 2 sparse Matrix of class \"dgCMatrix\" #>          x2     x5 #>  [1,]  .    .      #>  [2,]  .    .      #>  [3,] -0.40 .      #>  [4,]  .    .      #>  [5,]  .    0.5300 #>  [6,]  .    .      #>  [7,]  .    .      #>  [8,]  .    .      #>  [9,]  .    0.4300 #> [10,]  0.33 0.0017 remove_sparse(xdense, threshold = 0.9) #>          x2     x5 #>  [1,]  0.00 0.0000 #>  [2,]  0.00 0.0000 #>  [3,] -0.40 0.0000 #>  [4,]  0.00 0.0000 #>  [5,]  0.00 0.5300 #>  [6,]  0.00 0.0000 #>  [7,]  0.00 0.0000 #>  [8,]  0.00 0.0000 #>  [9,]  0.00 0.4300 #> [10,]  0.33 0.0017"},{"path":"/reference/sparseprepr-package.html","id":null,"dir":"Reference","previous_headings":"","what":"sparseprepr: Pre Processing for Sparse Matrices — sparseprepr-package","title":"sparseprepr: Pre Processing for Sparse Matrices — sparseprepr-package","text":"Sparse matrices allow -memory modeling large data sets. package enables common pre-processing actions sparse matrices provides memory-efficient workflow modeling scale.","code":""},{"path":"/reference/sparseprepr-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"sparseprepr: Pre Processing for Sparse Matrices — sparseprepr-package","text":"Maintainer: Daniel Molitor molitdj97@gmail.com","code":""},{"path":"/reference/transform_cols.html","id":null,"dir":"Reference","previous_headings":"","what":"Transform Sparse Matrix columns — transform_cols","title":"Transform Sparse Matrix columns — transform_cols","text":"transform_cols() transforms specified matrix columns user-supplied function.","code":""},{"path":"/reference/transform_cols.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transform Sparse Matrix columns — transform_cols","text":"","code":"transform_cols(x, fun, ..., which, drop, name.sep)  # S3 method for CsparseMatrix transform_cols(x, fun, ..., which, drop = FALSE, name.sep = NULL)  # S3 method for matrix transform_cols(x, fun, ..., which, drop = FALSE, name.sep = NULL)"},{"path":"/reference/transform_cols.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transform Sparse Matrix columns — transform_cols","text":"x matrix CsparseMatrix. fun user-supplied function apply specified columns. ... Additional arguments pass fun. numeric vector indicating column indices character vector indicating column names. drop logical value. fun works columnar matrices, set drop = FALSE, otherwise fun requires numeric vector set drop = TRUE. name.sep character vector length 1 nrow(x) appended existing column names create new columns. Providing argument ensures transformed columns appended new matrix columns. name.sep NULL specified columns transformed -place. name.sep provided, faulty, specified columns appended new columns un-changed column names.","code":""},{"path":"/reference/transform_cols.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Transform Sparse Matrix columns — transform_cols","text":"transform_cols() S3 generic methods : CsparseMatrix matrix","code":""},{"path":"/reference/transform_cols.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Transform Sparse Matrix columns — transform_cols","text":"","code":"x <- Matrix::rsparsematrix(10, 4, .9) colnames(x) <- paste0(\"x\", 1:4) x #> 10 x 4 sparse Matrix of class \"dgCMatrix\" #>          x1     x2     x3     x4 #>  [1,] -0.11 -0.052  0.045 -0.320 #>  [2,]  0.28  .      0.790  .     #>  [3,] -1.50  1.400  1.300 -0.075 #>  [4,]  0.43  0.560 -0.710 -0.088 #>  [5,]  1.00 -0.480  .     -0.071 #>  [6,] -0.71  2.000 -1.600  0.081 #>  [7,]  0.52 -0.800 -0.610 -1.500 #>  [8,] -1.20  1.300  0.530 -0.590 #>  [9,]  .    -0.140 -0.120 -0.160 #> [10,]  1.40  0.460 -1.100 -1.400  transform_cols(x, fun = function(i) i^2, which = paste0(\"x\", 3:4)) #> 10 x 4 sparse Matrix of class \"dgCMatrix\" #>          x1     x2       x3       x4 #>  [1,] -0.11 -0.052 0.002025 0.102400 #>  [2,]  0.28  .     0.624100 .        #>  [3,] -1.50  1.400 1.690000 0.005625 #>  [4,]  0.43  0.560 0.504100 0.007744 #>  [5,]  1.00 -0.480 .        0.005041 #>  [6,] -0.71  2.000 2.560000 0.006561 #>  [7,]  0.52 -0.800 0.372100 2.250000 #>  [8,] -1.20  1.300 0.280900 0.348100 #>  [9,]  .    -0.140 0.014400 0.025600 #> [10,]  1.40  0.460 1.210000 1.960000 transform_cols(x, fun = scale, which = 3:4, drop = TRUE) #> 10 x 4 sparse Matrix of class \"dgCMatrix\" #>          x1     x2          x3         x4 #>  [1,] -0.11 -0.052  0.21765254  0.1595718 #>  [2,]  0.28  .      1.05999612  0.7128002 #>  [3,] -1.50  1.400  1.63663400  0.5831373 #>  [4,]  0.43  0.560 -0.63599767  0.5606624 #>  [5,]  1.00 -0.480  0.16677272  0.5900526 #>  [6,] -0.71  2.000 -1.64228732  0.8528361 #>  [7,]  0.52 -0.800 -0.52293142 -1.8804579 #>  [8,] -1.20  1.300  0.76602386 -0.3072146 #>  [9,]  .    -0.140  0.03109322  0.4361860 #> [10,]  1.40  0.460 -1.07695605 -1.7075740 transform_cols(x, fun = scale, which = 3:4, name.sep = \"normalized\") #> 10 x 6 sparse Matrix of class \"dgCMatrix\" #>          x1     x2     x3     x4 x3_normalized x4_normalized #>  [1,] -0.11 -0.052  0.045 -0.320    0.21765254     0.1595718 #>  [2,]  0.28  .      0.790  .        1.05999612     0.7128002 #>  [3,] -1.50  1.400  1.300 -0.075    1.63663400     0.5831373 #>  [4,]  0.43  0.560 -0.710 -0.088   -0.63599767     0.5606624 #>  [5,]  1.00 -0.480  .     -0.071    0.16677272     0.5900526 #>  [6,] -0.71  2.000 -1.600  0.081   -1.64228732     0.8528361 #>  [7,]  0.52 -0.800 -0.610 -1.500   -0.52293142    -1.8804579 #>  [8,] -1.20  1.300  0.530 -0.590    0.76602386    -0.3072146 #>  [9,]  .    -0.140 -0.120 -0.160    0.03109322     0.4361860 #> [10,]  1.40  0.460 -1.100 -1.400   -1.07695605    -1.7075740"}]
